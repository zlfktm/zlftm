{% extends 'base.html' %}
{% load static %}

{% block title %}TODO INFO{% endblock %}

{% block extra_css %}
    <link rel="stylesheet" href="{% static 'todo_info.css' %}">
{% endblock %}

{% block content %}
<div class="detail-container">

    <a href="{% url 'cbv_todo_list' %}">ëª©ë¡ìœ¼ë¡œ ëŒì•„ê°€ê¸°</a>

    <h1>{{ dict.title }}</h1>
    <hr>
    <p class="status">
        ì™„ë£Œ ì—¬ë¶€ :
        {% if dict.is_completed %}
            âœ…ï¸
        {% else %}
            â˜
        {% endif %}
    </p>
    <p class="description">{{ dict.description }}</p>
    <p>ğŸ“… ì‹œì‘ì¼ : {{ dict.start_date }}</p>
    <p>â° ë§ˆê°ì¼ : {{ dict.end_date }}</p>
    <hr>
    <p class="meta">ìƒì„± : {{ dict.created_at }}</p>
    <p class="meta">ìˆ˜ì • : {{ dict.updated_at }}</p>

    <br>

    <a href="{% url 'cbv_todo_update' dict.id %}">ìˆ˜ì •</a>

    <form id="delete_form" action="{% url 'cbv_todo_delete' dict.id %}" method="POST" style="display:inline">
        {% csrf_token %}
        <button id="delete_btn" type="button">ì‚­ì œ</button>
    </form>
</div>

{% block js %}
    <script>
        document.querySelector('#delete_btn').addEventListener('click', function() {
            if(confirm('ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?')){
                document.querySelector('#delete_form').submit();
            }
        })
    </script>
{% endblock %}

{% endblock %}
